@page "/"
@rendermode InteractiveServer
@using Store.Shared.Products

@if (_loading)
{
    <MudProgressCircular Indeterminate="true" />
}
else
{
    <div class="mx-5 my-5">
        <MudText Typo="@Typo.h3">
            Products
        </MudText>

        <MudGrid Class="mt-5">
            @foreach (ProductDto.Index product in _products)
            {
                <MudItem xs="12" sm="6" md="4" lg="3" xl="2">
                    <MudCard>
                        <MudCardMedia Image="@product.ImageUrl" Height="200" />
                        <MudCardContent>
                            <div class="d-flex justify-center">
                                <MudText Typo="@Typo.h6">
                                    @product.Name - @product.Price.ToString("C")
                                </MudText>
                            </div>
                            <div class="d-flex justify-center">
                                <MudIconButton Icon="@Icons.Material.Filled.ShoppingCart" Color="Color.Info" />
                                <MudIconButton Icon="@Icons.Material.Filled.RemoveShoppingCart" Color="Color.Error"
                                    OnClick="AddProductToCartError" />
                            </div>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            }
        </MudGrid>
    </div>
}